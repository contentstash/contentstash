<script setup lang="ts">
import { Icon } from "@iconify/vue";
import { useColorMode } from "@vueuse/core";
import { Head } from "@inertiajs/vue3";

// Pass { disableTransition: false } to enable transitions
const mode = useColorMode();

const { getInfo } = useContentStash();
</script>

<template>
  <div>
    <Head title="CP" />
    <h1 class="text-blue-500 dark:text-gray-100 font-bold">CP224</h1>
    {{ getInfo() }}
    <UiDropdownMenu>
      <UiDropdownMenuTrigger as-child>
        <UiButton variant="outline">
          <Icon
            icon="radix-icons:moon"
            class="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"
          />
          <Icon
            icon="radix-icons:sun"
            class="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"
          />
          <span class="sr-only">Toggle theme</span>
        </UiButton>
      </UiDropdownMenuTrigger>
      <UiDropdownMenuContent align="end">
        <UiDropdownMenuItem @click="mode = 'light'"> Light </UiDropdownMenuItem>
        <UiDropdownMenuItem @click="mode = 'dark'"> Dark </UiDropdownMenuItem>
        <UiDropdownMenuItem @click="mode = 'auto'"> System </UiDropdownMenuItem>
      </UiDropdownMenuContent>
    </UiDropdownMenu>
  </div>
</template>
